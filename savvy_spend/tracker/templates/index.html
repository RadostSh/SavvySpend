{% extends 'base.html' %}

{% block content %}
<div class="welcome-container">
    <h1>Welcome to SavvySpend!</h1>
</div>

<div class="grid-container">
    <div class="card transactions">
        <h2>Transaction</h2>
        <form id="add-transaction-form" action="{% url 'add_transaction' %}" method="post">
            {% csrf_token %}
            <div>
                <label for="date">Date:</label>
                <input type="date" id="date" name="date" required>
            </div>
            <div>
                <label for="type">Type:</label>
                <select id="type" name="type">
                    <option value="income">Income</option>
                    <option value="expense">Expense</option>
                </select>
            </div>
            <div>
                <label for="amount">Amount:</label>
                <input type="number" id="amount" name="amount" step="0.01" required>
            </div>
            <div>
                <label for="category">Category:</label>
                <select id="category" name="category">
                    {% for category in categories %}
                    <option value="{{ category.id }}">{{ category.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div>
                <label for="description">Description:</label>
                <textarea id="description" name="description"></textarea>
            </div>
            <button type="submit">Add Transaction</button>
        </form>
        <a href="{% url 'list_transactions' %}">View All Transactions</a>
    </div>

    <div class="card categories">
        <h2>Categories</h2>
        <ul id="category-list"></ul>
        <form id="add-category-form" action="{% url 'add_category' %}" method="post">
            {% csrf_token %}
            <input type="text" name="name" placeholder="Enter new category name">
            <button type="submit">Add Category</button>
        </form>
        <a href="{% url 'list_categories' %}">View All Categories</a>
    </div>

    <div class="card budget">
        <h2>Budget</h2>
        <p>Total Balance: <strong>${{ balance }}</strong></p>
        <a href="{% url 'budget' %}" class="home-link">Manage Budget</a>
    </div>
</div>

<form action="{% url 'logout' %}" method="post" class="button">
    {% csrf_token %}
    <button type="submit">Logout</button>
</form>
{% endblock %}
